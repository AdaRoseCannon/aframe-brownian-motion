!function(){"use strict";class t{constructor(t,e,a){this.x=t,this.y=e,this.z=a}dot2(t,e){return this.x*t+this.y*e}dot3(t,e,a){return this.x*t+this.y*e+this.z*a}}const e=[new t(1,1,0),new t(-1,1,0),new t(1,-1,0),new t(-1,-1,0),new t(1,0,1),new t(-1,0,1),new t(1,0,-1),new t(-1,0,-1),new t(0,1,1),new t(0,-1,1),new t(0,1,-1),new t(0,-1,-1)],a=new Uint8Array([151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180]),i=new Uint16Array(512),s=Array(512);function o(t){return t*t*t*(t*(6*t-15)+10)}function r(t,e,a){return(1-a)*t+a*e}function n(t,e){let a=Math.floor(t),n=Math.floor(e);t-=a,e-=n,a&=255,n&=255;const c=s[a+i[n]].dot2(t,e),h=s[a+i[n+1]].dot2(t,e-1),d=s[a+1+i[n]].dot2(t-1,e),p=s[a+1+i[n+1]].dot2(t-1,e-1),f=o(t);return r(r(c,d,f),r(h,p,f),o(e))}!function(t){t>0&&t<1&&(t*=65536),(t=Math.floor(t))<256&&(t|=t<<8);for(let o=0;o<256;o++){let r;r=1&o?a[o]^255&t:a[o]^t>>8&255,i[o]=i[o+256]=r,s[o]=s[o+256]=e[r%12]}}(0);const c=new THREE.Vector2,h=new THREE.Vector3,d=new THREE.Vector3,p=new THREE.Euler(0,0,0,"ZXY"),f=new THREE.Quaternion;AFRAME.registerComponent("brownian-motion",{schema:{spaceVector:{type:"array"},octaves:{default:2},positionVariance:{type:"vec3",default:{x:1,y:1,z:1}},rotationVariance:{type:"vec3",default:{x:10,y:10,z:10}},speed:{default:1}},description:"This component animates an object",init(){this.initialPosition=(new THREE.Vector3).copy(this.el.object3D.position),this.initialQuaternion=(new THREE.Quaternion).copy(this.el.object3D.quaternion),this.positionOffset=new THREE.Vector3,this.rotationOffset=new THREE.Vector3},update(){this.positionOffset.x=""===this.data.spaceVector[0]||void 0===this.data.spaceVector[0]?2e3*Math.random()-1e3:Number.parseFloat(this.data.spaceVector[0]),this.positionOffset.y=""===this.data.spaceVector[1]||void 0===this.data.spaceVector[1]?2e3*Math.random()-1e3:Number.parseFloat(this.data.spaceVector[1]),this.positionOffset.z=""===this.data.spaceVector[2]||void 0===this.data.spaceVector[2]?2e3*Math.random()-1e3:Number.parseFloat(this.data.spaceVector[2]),this.rotationOffset.x=""===this.data.spaceVector[3]||void 0===this.data.spaceVector[3]?2e3*Math.random()-1e3:Number.parseFloat(this.data.spaceVector[3]),this.rotationOffset.y=""===this.data.spaceVector[4]||void 0===this.data.spaceVector[4]?2e3*Math.random()-1e3:Number.parseFloat(this.data.spaceVector[4]),this.rotationOffset.z=""===this.data.spaceVector[5]||void 0===this.data.spaceVector[5]?2e3*Math.random()-1e3:Number.parseFloat(this.data.spaceVector[5])},seed(t){seed(t)},fbm(t,e,a){let i=c.set(t,e),s=0,o=.5;for(let t=0;t<a;t++)s+=o*n(i.x,i.y),i.multiplyScalar(2),o*=.5;return s},tick(t){this.startTime||(this.startTime=t);const e=this.el.object3D;h.set(this.fbm(this.positionOffset.x,this.data.speed*(t-this.startTime)/1e3,this.data.octaves),this.fbm(this.positionOffset.y,this.data.speed*(t-this.startTime)/1e3,this.data.octaves),this.fbm(this.positionOffset.z,this.data.speed*(t-this.startTime)/1e3,this.data.octaves)),d.set(this.fbm(this.rotationOffset.x,this.data.speed*(t-this.startTime)/1e3,this.data.octaves),this.fbm(this.rotationOffset.y,this.data.speed*(t-this.startTime)/1e3,this.data.octaves),this.fbm(this.rotationOffset.z,this.data.speed*(t-this.startTime)/1e3,this.data.octaves)),h.multiply(this.data.positionVariance).multiplyScalar(1/.75),d.multiply(this.data.rotationVariance).multiplyScalar(1/.75),e.position.copy(this.initialPosition).add(h),p.setFromVector3(d),f.setFromEuler(p),e.quaternion.copy(this.initialQuaternion).multiply(f)},remove(){}})}();
//# sourceMappingURL=aframe-brownian-motion.min.js.map
